<wicket:panel xmlns:wicket="http://wicket.apache.org">
<!--
This panel is used when you want to create or update game in the database.
It encapsulates relevant createOrUpdateGame with associated HTML markup.
It is found in https://github.com/CSLD/CSLD/tree/master/src/main/java/cz/larpovadatabaze/components/panel/game/CreateOrUpdateGamePanel.html
Code - cz.larpovadatabaze.components.panel.game.CreateOrUpdateGamePanel.html
-->
<div wicket:id="createGroup">
    <!-- This will contain popup modal window with CreateOrUpdateGroupPanel -->
</div>
<div wicket:id="createAuthor">
    <!-- This will contain popup modal window with CreateOrUpdateAuthorPanel -->
</div>
<div wicket:id="createLabel">
    <!-- This will contain popup modal window with CreateOrUpdateLabelPanel -->
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("input, textarea").each(function (idx, elm) {
            if ($(elm).attr("type") == "file") {
                return;
            }
            if ($(elm).attr("value") == "") {
                $(elm).attr("value", $(elm).attr("title"));
            }
        });

        $("input, textarea").bind("click", function (event) {
            var el = $(this);
            if (el.attr("type") != "file") {
                if (el.attr("value") == el.attr("title")) {
                    el.attr("value", "");
                }
            }
        });

        $("#submitButton").bind("mousedown", function (event) {
            $("input, textarea").each(function (idx, elm) {
                var el = $(elm);
                if (el.attr("type") == "file") {
                    return;
                }
                if (el.attr("value") == el.attr("title")) {
                    el.attr("value", "");
                }
            });
        });
    });
</script>

<form action="" id="sky-form4" class="sky-form gamepanel" novalidate="novalidate" wicket:id="addGame">
<header><i class="fa fa-plus"></i>
    <wicket:message key="game.add">Přidat hru</wicket:message>
</header>

<fieldset>
    <wicket:message key="form.game.section.required"/>
</fieldset>

<fieldset>
    <div wicket:id="feedback"></div>

    <label class="input">
        <i class="icon-append fa fa-folder-open"></i>
        <input type="text" wicket:id="name" wicket:message="placeholder:form.name">
        <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.nameHint" /></b>
    </label>
    <br>

    <wicket:message key="form.game.labels"></wicket:message>

    <div wicket:id="labels"></div>
    <input type="button" value="Nový štítek" wicket:message="value:form.newLabel" wicket:id="createLabel"/>

    <textarea class="textarea"
              wicket:id="description"
              wicket:message="title:form.game.description"
              style="width:100%;"
              rows=8
            ></textarea>

    <wicket:message key="form.game.section.extended"/>
</fieldset>

<fieldset>
    <div class="row">
        <section class="col col-6">
            <label class="input">
                <i class="icon-append fa fa-user-plus"></i>

                <div class="hide" wicket:id="authors"></div>
                <input class="hide" type="button" value="Nový autor" wicket:message="value:form.newAuthor" wicket:id="createAuthor"/>

                <input type="text" name="author" placeholder="Author">
                <b class="tooltip tooltip-bottom-right">
                    <wicket:message key="form.game.authors">Autoři</wicket:message>
                </b>
            </label>
        </section>
        <section class="col col-6">
            <label class="input">
                <i class="icon-append fa fa-users"></i>

                <div class="hide" wicket:id="groupAuthor"></div>
                <input class="hide" type="button" value="Nová skupina" wicket:messsage="value:form.newGroup" wicket:id="createGroup"/>

                <input type="text" name="groupAuthor" placeholder="Author Group">
                <b class="tooltip tooltip-bottom-right">
                    <wicket:message key="form.game.authorGroups">Autorské skupiny</wicket:message>
                </b>
            </label>
        </section>
    </div>
    <div class="row">
        <section class="col col-6">
            <label class="input">
                <i class="icon-append fa fa-calendar"></i>

                <input type="text" wicket:id="year" wicket:message="placeholder:form.game.year" />
                <b class="tooltip tooltip-bottom-right">
                    <wicket:message key="form.game.yearHint">Rok</wicket:message>
                </b>
            </label>
        </section>
        <section class="col col-6">
            <label class="select">
                <select wicket:id="lang"></select>
                <i></i>
            </label>
        </section>
    </div>

    <div class="row">
        <section class="col col-3">
            <label class="input">
                <i class="icon-append fa fa-street-view"></i>
                <input type="text" wicket:id="players" wicket:message="placeholder:form.game.players">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.playersHint" /></b>
            </label>
        </section>
        <section class="col col-3">
            <label class="input">
                <i class="icon-append fa fa-venus"></i>
                <input type="text" wicket:id="womenRole" wicket:message="placeholder:form.game.womenRole">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.womenRoleHint" /></b>
            </label>
        </section>
        <section class="col col-3">
            <label class="input">
                <i class="icon-append fa fa-mars"></i>
                <input type="text" wicket:id="menRole" wicket:message="placeholder:form.game.menRole">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.menRoleHint" /></b>
            </label>
        </section>
        <section class="col col-3">
            <label class="input">
                <i class="icon-append fa fa-transgender"></i>
                <input type="text" wicket:id="bothRole" wicket:message="placeholder:form.game.bothRole">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.bothRoleHint" /></b>
            </label>
        </section>
    </div>
    <wicket:message key="form.game.section.presentation"/>
</fieldset>

<fieldset>
    <div class="row">
        <section class="col col-6">
            <label class="input">
                <i class="icon-append fa fa-upload"></i>
                <input type="text" name="uvodniFotka" placeholder="Upload cover photo">
                <b class="tooltip tooltip-bottom-right">(OPTIONAL) Vyberte širokoúhlé cover photo hry o poměru stran cca 16:4 s maximální velikostí 2MB</b>
            </label>
        </section>
        <section class="col col-6">
            <label class="input">
                <i class="icon-append fa fa-external-link-square"></i>
                <input type="text" wicket:id="web" wicket:message="placeholder:form.game.web">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.webHint" /></b>
            </label>
        </section>
        <section class="col col-4">
            <label class="input">
                <i class="icon-append fa fa-user-secret"></i>
                <input type="text" wicket:id="photoAuthor" wicket:message="placeholder:form.game.photoAuthor">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.photoAuthorHint" /></b>
            </label>
        </section>
        <section class="col col-4">
            <label class="input">
                <i class="icon-append fa fa-picture-o"></i>
                <input type="text" wicket:id="galleryURL" wicket:message="placeholder:form.game.galleryURL">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.galleryURLHint" /></b>
            </label>
        </section>
        <section class="col col-4">
            <label class="input">
                <i class="icon-append fa fa-video-camera"></i>
                <input type="text" wicket:id="video" wicket:message="placeholder:form.game.video">
                <b class="tooltip tooltip-bottom-right"><wicket:message key="form.game.videoHint" /></b>
            </label>
        </section>
    </div>
    <wicket:message key="form.game.section.settings"/>
</fieldset>

<fieldset>
    <section>
        <label class="checkbox"><input type="checkbox" wicket:id="ratingsDisabled"><i></i><strong><wicket:message key="form.game.ratingsDisabled" /></strong>
            <br><span class="form-explain"><wicket:message key="form.game.ratingsDisabledHint" /></span>
        </label>

        <label class="checkbox"><input type="checkbox" wicket:id="commentsDisabled"><i></i><strong><wicket:message key="form.game.commentsDisabled" /></strong>
            <br><span class="form-explain"><wicket:message key="form.game.commentsDisabledHint" /></span>
        </label>

        <!-- this will force larp out of archive if it has at least one new comment during past year
            requires change in model - we should add it later
        <label class="checkbox"><input type="checkbox" name="stillRunning" id="stillRunning"><i></i>Still running
            <br><span class="form-explain">( Check this if larp is still in state of active runs )</span>
        </label>
        -->
    </section>
    <section>
        <br>
        <input type="button" class="btn-u" wicket:message="value:form.save"
               wicket:id="submit" id="submitButton"/>
    </section>
</fieldset>


<div class="hide">
    <!-- Statistics -->
    <div wicket:id="image"></div>

    <label for="image">
        <wicket:message key="form.game.image">Obrázek</wicket:message>
    </label>

    <span wicket:id="imageFeedback"></span>
</div>


</form>

</wicket:panel>